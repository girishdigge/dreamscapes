{
"$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Dream Scene Schema",
  "description": "Schema for generated dream scenes",
  "required": ["id", "title", "style"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the dream"
    },
    "title": {
      "type": "string",
      "description": "Human-readable title of the dream"
    },
    "style": {
      "type": "string",
      "enum": ["ethereal", "cyberpunk", "surreal", "fantasy", "nightmare"],
      "description": "Visual style of the dream"
    },
    "seed": {
      "type": "integer",
      "description": "Random seed for reproducible generation"
    },
    "environment": {
      "type": "object",
      "properties": {
        "preset": {
          "type": "string",
          "enum": ["dawn", "dusk", "night", "void", "underwater"]
        },
        "fog": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        "skyColor": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$"
},
"ambientLight": {
"type": "number",
"minimum": 0,
"maximum": 2
}
}
},
"structures": {
"type": "array",
"items": {
"type": "object",
"required": ["id", "template", "pos"],
"properties": {
"id": {
"type": "string"
},
"template": {
"type": "string",
"enum": [
"floating_library", "crystal_tower", "twisted_house",
"portal_arch", "floating_island", "infinite_staircase"
]
},
"pos": {
"type": "array",
"items": { "type": "number" },
"minItems": 3,
"maxItems": 3
},
"scale": {
"type": "number",
"minimum": 0.1,
"maximum": 10
},
"rotation": {
"type": "array",
"items": { "type": "number" },
"minItems": 3,
"maxItems": 3
},
"features": {
"type": "array",
"items": { "type": "string" }
}
}
},
"maxItems": 10
},
"entities": {
"type": "array",
"items": {
"type": "object",
"required": ["id", "type"],
"properties": {
"id": {
"type": "string"
},
"type": {
"type": "string",
"enum": [
"book_swarm", "floating_orbs", "particle_stream",
"shadow_figures", "light_butterflies", "memory_fragments"
]
},
"count": {
"type": "integer",
"minimum": 1,
"maximum": 100
},
"params": {
"type": "object",
"properties": {
"speed": { "type": "number" },
"glow": { "type": "number", "minimum": 0, "maximum": 1 },
"size": { "type": "number" },
"color": { "type": "string" }
}
}
}
},
"maxItems": 5
},
"cinematography": {
"type": "object",
"required": ["durationSec", "shots"],
"properties": {
"durationSec": {
"type": "number",
"minimum": 10,
"maximum": 120
},
"shots": {
"type": "array",
"items": {
"type": "object",
"required": ["type", "duration"],
"properties": {
"type": {
"type": "string",
"enum": ["establish", "flythrough", "orbit", "close_up", "pull_back"]
},
"target": {
"type": "string",
"description": "ID of structure or entity to focus on"
},
"duration": {
"type": "number",
"minimum": 2,
"maximum": 30
},
"startPos": {
"type": "array",
"items": { "type": "number" },
"minItems": 3,
"maxItems": 3
},
"endPos": {
"type": "array",
"items": { "type": "number" },
"minItems": 3,
"maxItems": 3
}
}
}
}
}
},
"render": {
"type": "object",
"properties": {
"res": {
"type": "array",
"items": { "type": "integer" },
"minItems": 2,
"maxItems": 2
},
"fps": {
"type": "integer",
"enum": [24, 30, 60]
},
"quality": {
"type": "string",
"enum": ["draft", "medium", "high"]
}
}
},
"assumptions": {
"type": "array",
"items": { "type": "string" },
"description": "List of assumptions made during generation"
}
}
}
